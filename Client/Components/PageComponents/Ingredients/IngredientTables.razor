@using BlazingRecept.Shared.Dto
@inherits ComponentBase

@*<ConfirmationModal id="ingredient_removal"
    title="Ingredient removal"
    content={"Delete <strong>" + rowTargetName + "</strong> from ingredient table?"}
    onConfirmationClicked={handleIngredientRemoval}
    />*@
@if (_ingredientCollectionTypes != null)
{
    <div class="card mb-2">
        <div class="card-body">
            @for (int index = 0; index < _ingredientCollectionTypes.Count; ++index)
            {
                <h2>@_ingredientCollectionTypes[index].Name</h2>
                <table class="table table-hover table-striped table-sm">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Fat</th>
                            <th>Carbohydrates</th>
                            <th>Protein</th>
                            <th>Calories</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (IngredientDto ingredientDto in _ingredientCollectionTypes[index].Ingredients)
                        {
                            <tr id="@ingredientDto.Id">
                                <td>@ingredientDto.Name</td>
                                <td>@ingredientDto.Fat</td>
                                <td>@ingredientDto.Carbohydrates</td>
                                <td>@ingredientDto.Protein</td>
                                <td>@ingredientDto.Calories</td>
                                <td>
                                    <i class="fa-solid fa-pen-to-square" @onclick="@OnIngredientEditClick"></i>
                                    <i class="fa-solid fa-trash" @onclick="@OnIngredientRemovalModalOpen"></i>
@*                                    <button class="btn btn-table-action" @onclick="@OnIngredientEditClick">
                                        <i class="fa-solid fa-pen-to-square"></i>
                                    </button>
                                    <button class="btn btn-table-action" @onclick="@OnIngredientRemovalModalOpen">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>*@
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
        </div>
    </div>
}
